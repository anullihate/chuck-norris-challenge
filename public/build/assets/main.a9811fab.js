import{d as e,c as t,o as n,r as s,L as a,a as o,b as r,e as i,f as c,w as l,g as u,t as h,F as d,h as p,i as g,j as f,k as m,l as v,m as b,v as y,n as k,p as x,q as w,S as C,s as F,u as j,x as L,y as R}from"./vendor.e2b85d2c.js";var O=e({name:"App"});function S(...e){return e.filter(Boolean).join(" ")}O.render=function(e,a,o,r,i,c){const l=s("RouterView");return n(),t(l)};const U={components:{Listbox:a,ListboxLabel:o,ListboxButton:r,ListboxOptions:i,ListboxOption:c},props:{categories:Array,activeCategory:String},setup:(e,t)=>({classNames:S,resolveListboxOptionClassName:({active:e})=>S("relative py-2 pl-3 cursor-default select-none pr-9 focus:outline-none",e?"text-white bg-indigo-600":"text-gray-900")})},J={class:"relative mt-2"},T={class:"inline-block w-full rounded-md shadow-sm"},N=f("Categories"),P={class:"block truncate"},E={class:"absolute w-full mt-1 bg-white rounded-md shadow-lg"},_=u("svg",{class:"w-5 h-5",viewbox:"0 0 20 20",fill:"currentColor"},[u("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})],-1);U.render=function(e,a,o,r,i,c){const f=s("ListboxLabel"),m=s("ListboxButton"),v=s("ListboxOption"),b=s("ListboxOptions"),y=s("Listbox");return n(),t(y,{modelValue:o.activeCategory,"onUpdate:modelValue":a[1]||(a[1]=e=>o.activeCategory=e)},{default:l((()=>[u("div",J,[u("span",T,[u(f,{class:"font-bold"},{default:l((()=>[N])),_:1}),u(m,{class:"\n            relative\n            w-full\n            py-2\n            pl-3\n            pr-10\n            text-left\n            transition\n            duration-150\n            ease-in-out\n            bg-white\n            border border-gray-300\n            rounded-md\n            focus:outline-none\n            focus:shadow-outline-blue\n            focus:border-blue-300\n            sm:text-sm\n            sm:leading-5\n            cursor-pointer\n          "},{default:l((()=>[u("span",P,h(o.activeCategory),1)])),_:1})]),u("div",E,[u(b,{class:"\n            py-1\n            overflow-auto\n            text-base\n            leading-6\n            rounded-md\n            shadow-xs\n            max-h-60\n            focus:outline-none\n            sm:text-sm\n            sm:leading-5\n          "},{default:l((()=>[(n(!0),t(d,null,p(o.categories,((s,a)=>(n(),t(v,{key:a,value:s,className:r.resolveListboxOptionClassName,onClick:t=>e.$emit("update:active-category",s)},{default:l((({active:e,selected:a})=>[u("span",{class:r.classNames("block truncate",a?"font-semibold":"font-normal")},h(s),3),a?(n(),t("span",{key:0,class:r.classNames("absolute inset-y-0 right-0 flex items-center pr-4",e?"text-white":"text-indigo-600")},[_],2)):g("",!0)])),_:2},1032,["value","className","onClick"])))),128))])),_:1})])])])),_:1},8,["modelValue"])};class A extends Error{constructor(e,t){super(e),this.response=t}}class D extends A{constructor(e){super("NETWORK_ERROR",e)}}var W,$;($=W||(W={})).Left="Left",$.Right="Right";class z{constructor(e,t){this.type=e,this.value=t}static success(e){return new z(W.Right,e)}static fail(e){return new z(W.Left,e)}isFail(){return this.type===W.Left}isOk(){return this.type===W.Right}}const{fail:H,success:I}=z;const M=new class{constructor(e={}){this.defaultOptions={prefix:"",headers:{},params:{}},this.generateFinalUrl=(e,t={})=>{var n,s;const a=null!=(n=t.prefix)?n:this.options.prefix,o=Object.assign({},this.options.params,null!=(s=t.params)?s:{});let r=`${a}${e}`;return Object.keys(o).length>0&&(r+=`?${function(e){return Object.entries(e).map((([e,t])=>`${e}=${t.toString()}`)).join("&")}(o)}`),r},this.generateFinalHeaders=(e={})=>{var t;return Object.assign({},this.options.headers,null!=(t=e.headers)?t:{})},this.handleResponse=e=>e.ok?e.json().then((e=>I(e))):Promise.resolve(H(new D(e))),this.handleCorrectResponse=e=>{if(e.ok)return e.json();throw new D(e)},this.options=Object.assign({},this.defaultOptions,e)}runFetch({method:e,url:t,data:n,options:s}){const a=this.generateFinalUrl(t,s),o={method:e,headers:this.generateFinalHeaders(s)};return void 0!==n&&(o.body=JSON.stringify(n)),fetch(a,o)}runSafeFetch(e,t,n){return this.runFetch({method:e,url:t,options:n})}runUnsafeFetch(e,t,n,s){return this.runFetch({method:e,url:t,options:s,data:n})}get(e,t){return this.runSafeFetch("GET",e,t).then((e=>this.handleCorrectResponse(e)))}checkableGet(e,t){return this.runSafeFetch("GET",e,t).then((e=>this.handleResponse(e)))}post(e,t,n){return this.runUnsafeFetch("POST",e,t,n).then((e=>this.handleCorrectResponse(e)))}checkablePost(e,t,n){return this.runUnsafeFetch("POST",e,t,n).then((e=>this.handleResponse(e)))}delete(e,t){return this.runSafeFetch("DELETE",e,t).then((e=>this.handleCorrectResponse(e)))}checkableDelete(e,t){return this.runSafeFetch("DELETE",e,t).then((e=>this.handleResponse(e)))}put(e,t,n){return this.runUnsafeFetch("PUT",e,t,n).then((e=>this.handleCorrectResponse(e)))}checkablePut(e,t,n){return this.runUnsafeFetch("PUT",e,t,n).then((e=>this.handleResponse(e)))}patch(e,t,n){return this.runUnsafeFetch("PATCH",e,t,n).then((e=>this.handleCorrectResponse(e)))}checkablePatch(e,t,n){return this.runUnsafeFetch("PATCH",e,t,n).then((e=>this.handleResponse(e)))}setAuthorizationHeader(e){""!==e&&(this.options.headers.Authorization=`Token ${e}`)}deleteAuthorizationHeader(){var e,t;null==(t=null==(e=this.options)?void 0:e.headers)||delete t.Authorization}}({prefix:"https://api.chucknorris.io",headers:{"Content-Type":"application/json"}});function V(e){const t=m(!1);return{active:t,run:async(...n)=>{t.value=!0;const s=await e(...n);return t.value=!1,s}}}function B(){const e=m([]),t=m(""),n=m([]);const{run:s}=V((async function(){const n=await M.get("/jokes/categories");e.value=n,t.value=n[Math.floor(Math.random()*n.length)]})),{active:a,run:o}=V((async function(){const e=await((e={})=>M.get("/jokes/random",{params:e}))({category:t.value});n.value=[e]})),{active:r,run:i}=V((async function(e){const t=e.target.elements.search.value;if(t.length<3)Promise.reject("size must be between 3 and 120");else{const e=await((e={})=>M.get("/jokes/search",{params:e}))({query:t});n.value=e.result}}));return{categories:e,activeCategory:t,runWrappedFetchCategories:s,jokes:n,jokeDownloading:a,runWrappedFetchJoke:o,isSearching:r,search:i}}var G=e({components:{Categories:U},async setup(){const e=m(""),{categories:t,jokes:n,activeCategory:s,runWrappedFetchCategories:a,jokeDownloading:o,runWrappedFetchJoke:r,isSearching:i,search:c}=B();return await a(),await r(),{categories:t,jokes:n,activeCategory:s,jokeDownloading:o,runWrappedFetchJoke:r,searchInput:e,isSearching:i,search:c}}});const q=k();x("data-v-26df73c8");const K={key:0},Q={class:"sidebar divide-y-2 divide-indigo-600"},X={class:"mb-2"},Y=u("label",{for:"search",class:"font-bold"},"Search",-1),Z=u("button",{type:"submit",class:"\n                            mt-1\n                            inline-flex\n                            items-center\n                            px-4\n                            py-2\n                            border border-transparent\n                            rounded-md\n                            shadow-sm\n                            text-sm\n                            font-medium\n                            text-white\n                            bg-indigo-600\n                            hover:bg-indigo-700\n                            focus:outline-none\n                        "}," Search Jokes ",-1),ee=f("More "),te=f(" Joke"),ne={class:"jokes bg-white"},se={class:"my-auto divide-y divide-gray-300"},ae={key:0},oe=u("h1",null,[u("strong",null,"[No Jokes Found]")],-1),re=u("h3",null,[f(" It seems "),u("strong",null,"Chuck Norris"),f(" are running out of Jokes now! ðŸ˜‚ ")],-1);w();const ie=q(((e,a,o,r,i,c)=>{const l=s("Categories");return e.jokeDownloading||e.isSearching?(n(),t("div",K,"Fetching Joke")):(n(),t(d,{key:1},[u("div",Q,[u("div",X,[u("form",{class:"mt-2",onSubmit:a[2]||(a[2]=v(((...t)=>e.search&&e.search(...t)),["stop","prevent"]))},[Y,b(u("input",{type:"text",name:"search",id:"search",placeholder:"Search Jokes",class:"\n                            relative\n                            w-full\n                            py-2\n                            pl-3\n                            pr-10\n                            text-left\n                            transition\n                            duration-150\n                            ease-in-out\n                            bg-white\n                            border border-gray-300\n                            rounded-md\n                            focus:outline-none\n                            focus:bg-indigo-50\n                            sm:text-sm\n                            sm:leading-5\n                        ",autocomplete:"off","onUpdate:modelValue":a[1]||(a[1]=t=>e.searchInput=t)},null,512),[[y,e.searchInput]]),Z],32)]),u("div",null,[u(l,{categories:e.categories,"active-category":e.activeCategory,"onUpdate:active-category":a[3]||(a[3]=t=>e.activeCategory=t)},null,8,["categories","active-category"]),u("button",{type:"button",class:"\n                        mt-1\n                        inline-flex\n                        items-center\n                        px-4\n                        py-2\n                        border border-transparent\n                        rounded-md\n                        shadow-sm\n                        text-sm\n                        font-medium\n                        text-white\n                        bg-indigo-600\n                        hover:bg-indigo-700\n                        focus:outline-none\n                    ",onClick:a[4]||(a[4]=t=>e.runWrappedFetchJoke())},[u("span",null,[ee,u("strong",null,h(e.activeCategory.toUpperCase()),1),te])])])]),u("div",ne,[u("ul",se,[e.jokes.length?g("",!0):(n(),t("li",ae,[oe,re])),(n(!0),t(d,null,p(e.jokes,(e=>(n(),t("li",{key:e.id,class:"p-4 hover:bg-gray-50 cursor-pointer"},h(e.value),1)))),128))])])],64))}));G.render=ie,G.__scopeId="data-v-26df73c8";const ce=e({components:{JokesList:G}}),le=f(" Loading... ");ce.render=function(e,a,o,r,i,c){const h=s("JokesList");return n(),t("div",null,[(n(),t(C,null,{default:l((()=>[u(h)])),fallback:l((()=>[le])),_:1}))])};const ue=F({history:j(),routes:[{name:"jokes",path:"/",component:ce},{path:"/:pathMatch(.*)*",component:()=>L("h1","Page Not Found")}]}),he=R(O);he.use(ue),he.mount("#app");
